(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{590:function(e,t,n){var content=n(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(40).default)("12ebb910",content,!0,{sourceMap:!1})},641:function(e,t,n){"use strict";n(590)},642:function(e,t,n){var r=n(37)(!1);r.push([e.i,"\n.pdf-filter-btn[data-v-e9d200ae]{\n    display: flex;\n    justify-content: space-around;\n}\n",""]),e.exports=r},781:function(e,t,n){"use strict";n.r(t);var r=n(30),o=(n(64),n(2),n(4),n(574)),d=(n(575),{name:"BatterySwapsPdf",data:function(){return{pdfData:[],btn_loading:!1,btn_loading_today:!1}},methods:{get_battery_swaps_pdf:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),e.$axios.defaults.headers.common.Authorization="Token "+n,e.btn_loading_today=!0,t.next=5,e.$axios.$get("v1/reports/battery_reports",{headers:{Authorization:"Token ".concat(n)}}).then((function(t){if(t.length>=1){e.$bvModal.hide("pdf-record"),e.pdfData=t;var n=e.pdfData,r=[];n.forEach((function(element,e,t){r.push([e+1,element.battery_code1,element.swap,element.units,element.amount])}));var d=new o.default;d.autoTable({head:[["No","Battery Code","No. Swap","units(Kw)","Revenue (KES)"]],body:r});var c=d.internal.getNumberOfPages(),i=0;for(i=0;i<c;i++){d.setPage(i);var f=d.internal.getCurrentPageInfo().pageNumber;d.setFontSize(12),d.text("page: "+f+"/"+c,10,d.internal.pageSize.height-10)}var l=Date(),_=c;for(i=1;i<=_;i++)d.setPage(i),d.setTextColor(150),d.setFontSize(7),d.text(50,d.internal.pageSize.height-10,"GECSS INVESTMENTS   -    CONFIDENTIAL      ".concat(l));d.save("batteries_total_swaps.pdf"),Swal.fire({icon:"success",title:"Pdf downloaded successfully"}),e.create_record={}}else{e.$bvModal.hide("pdf-record");Swal.fire({icon:"error",title:"Oops.!!! No record found, please enter dates again."}),e.create_record={}}}));case 5:e.btn_loading_today=!1;case 6:case"end":return t.stop()}}),t)})))()}},props:{}}),c=(n(641),n(12)),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("br"),e._v(" "),t("b-form",{on:{submit:function(t){return t.preventDefault(),e.get_battery_swaps_pdf()}}},[t("div",[t("h4",[e._v("Do you want to download pdf???")])]),e._v(" "),t("SbButton",{attrs:{title:"YES"}}),e._v(" "),t("br")],1)],1)}),[],!1,null,"e9d200ae",null);t.default=component.exports}}]);