(window.webpackJsonp=window.webpackJsonp||[]).push([[105,108,109],{579:function(t,e,r){var content=r(598);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("03f79045",content,!0,{sourceMap:!1})},580:function(t,e,r){var content=r(600);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("bfd3f7ca",content,!0,{sourceMap:!1})},597:function(t,e,r){"use strict";r(579)},598:function(t,e,r){var o=r(37)(!1);o.push([t.i,"\n.pdf-filter-btn[data-v-7f7db5ef]{\n    display: flex;\n    justify-content: space-around;\n}\n",""]),t.exports=o},599:function(t,e,r){"use strict";r(580)},600:function(t,e,r){var o=r(37)(!1);o.push([t.i,"\n.pdf-filter-btn[data-v-2b48479f]{\n    display: flex;\n    justify-content: space-around;\n}\n",""]),t.exports=o},601:function(t,e,r){var content=r(656);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("3f2c80d5",content,!0,{sourceMap:!1})},631:function(t,e,r){"use strict";r.r(e);var o=r(30),n=(r(64),r(14),r(2),r(4),r(574)),l=(r(575),{name:"MpesaDailyPdf",data:function(){return{pdfData:[],btn_loading:!1,swap_filter:{fromdate:"",todate:""}}},methods:{get_mpesa_daily_pdf:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),t.$axios.defaults.headers.common.Authorization="Token "+r,t.btn_loading=!0,o={fromdate:t.swap_filter.fromdate,todate:t.swap_filter.todate},e.next=6,t.$axios.$post("v1/reports/mpesa_statistics/pdf_excel",o).then((function(e){if(e.length>=1){t.$bvModal.hide("pdf-daily-swaps-record");var r=t.swap_filter.fromdate,o=t.swap_filter.todate,l="mpesa_reports-pdf-".concat(r," - ").concat(o,".pdf");t.pdfData=e;var d=t.pdfData,c=[];d.forEach((function(element,t,e){c.push([t+1,element.Date,element.Month,element.Day,element.Year,element.Revenue])}));var f=new n.default;f.autoTable({head:[["No","Date","Month","Day","Year","Revenue (KES)"]],body:c});var _=f.internal.getNumberOfPages(),i=0;for(i=0;i<_;i++){f.setPage(i);var v=f.internal.getCurrentPageInfo().pageNumber;f.setFontSize(12),f.text("page: "+v+"/"+_,10,f.internal.pageSize.height-10)}var m=Date(),x=_;for(i=1;i<=x;i++)f.setPage(i),f.setTextColor(150),f.setFontSize(7),f.text(50,f.internal.pageSize.height-10,"GECSS INVESTMENTS   -    CONFIDENTIAL      ".concat(m));f.save(l),Swal.fire({icon:"success",title:"Pdf downloaded successfully"}),t.create_record={}}else{t.$bvModal.hide("pdf-record");Swal.fire({icon:"error",title:"Oops.!!! No record found, please enter dates again."}),t.create_record={}}}));case 6:t.btn_loading=!1;case 7:case"end":return e.stop()}}),e)})))()}},props:{}}),d=(r(597),r(12)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.get_mpesa_daily_pdf()}}},[e("div",[e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("Start Date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.swap_filter.fromdate,callback:function(e){t.$set(t.swap_filter,"fromdate",e)},expression:"swap_filter.fromdate"}})],1)]),t._v(" "),e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("End date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.swap_filter.todate,callback:function(e){t.$set(t.swap_filter,"todate",e)},expression:"swap_filter.todate"}})],1)]),t._v(" "),e("br"),t._v(" "),e("div",[t.btn_loading?e("div",[e("center",[e("i",{staticClass:"fa fa-2x fa-sun fa-spin"}),t._v(" "),e("br"),e("br")])],1):e("div",[e("SbButton",{attrs:{title:"Download Pdf"}})],1)]),t._v(" "),e("br")])])],1)}),[],!1,null,"7f7db5ef",null);e.default=component.exports},632:function(t,e,r){"use strict";r.r(e);var o=r(30),n=(r(64),r(14),r(578)),l={name:"MpesaDailyExcel",data:function(){return{pdfData:[],btn_loading:!1,mpesa_filter:{fromdate:"",todate:""}}},methods:{generateExcel:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),t.$axios.defaults.headers.common.Authorization="Token "+r,t.btn_loading=!0,o={fromdate:t.mpesa_filter.fromdate,todate:t.mpesa_filter.todate},e.next=6,t.$axios.$post("v1/reports/mpesa_statistics/pdf_excel",o).then((function(e){if(e.length>=1){var r=t.mpesa_filter.fromdate,o=t.mpesa_filter.todate,l="mpesa_reports-excel-".concat(r," - ").concat(o,".xlsx"),data=n.a.json_to_sheet(e),d=n.a.book_new();n.a.book_append_sheet(d,data,"data"),n.b(d,l),t.$bvModal.hide("mpesa-daily-excel-reports");Swal.fire({icon:"success",title:"Excel downloaded successfully"})}else{t.$bvModal.hide("excel-mpesa-record");Swal.fire({icon:"error",title:"Oops.!!! No record found, please enter dates again."})}}));case 6:case"end":return e.stop()}}),e)})))()}},props:{}},d=(r(599),r(12)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.generateExcel()}}},[e("div",[e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("Start Date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.mpesa_filter.fromdate,callback:function(e){t.$set(t.mpesa_filter,"fromdate",e)},expression:"mpesa_filter.fromdate"}})],1)]),t._v(" "),e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("End date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.mpesa_filter.todate,callback:function(e){t.$set(t.mpesa_filter,"todate",e)},expression:"mpesa_filter.todate"}})],1)]),t._v(" "),e("br"),t._v(" "),e("div",[t.btn_loading?e("div",[e("center",[e("i",{staticClass:"fa fa-2x fa-sun fa-spin"}),t._v(" "),e("br"),e("br")])],1):e("div",[e("SbButton",{attrs:{title:"Download Excel"}})],1)]),t._v(" "),e("br")])])],1)}),[],!1,null,"2b48479f",null);e.default=component.exports},655:function(t,e,r){"use strict";r(601)},656:function(t,e,r){var o=r(37)(!1);o.push([t.i,"\n.mpesa_pay_header[data-v-142a0705]{\n\tbackground: #f2f2f2;\n\tmargin-bottom: 20px;\n\tfont-weight: bold;\n\tpadding: 10px 10px 10px 10px;\n}\n.mpesa_pay_items_con[data-v-142a0705]{\n\tdisplay: flex;\n\talign-items: center;\n}\n.fa-ico-size[data-v-142a0705]{\n\tfont-size: 40px;\n\t/* color: #006666; */\n\tcolor: #595959;\n}\n.mpesa_price[data-v-142a0705]{\n\tfont-size: 18px;\n\tmargin-left: 20px;\n\tcolor: green;\n\tfont-weight: bold;\n}\n",""]),t.exports=o},792:function(t,e,r){"use strict";r.r(e);var o=r(30),n=(r(64),r(631)),l=r(632),d={name:"Hero",components:{MpesaDailyPdf:n.default,MpesaDailyExcel:l.default},data:function(){return{mpesa_filter:{fromdate:"",todate:""},filter_account:{acc:"",fromdate:"",todate:""},stat_total:0,stat_total_spinner:!1}},methods:{getMpesa_total_stat_range:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stat_total_spinner=!0,r=localStorage.getItem("token"),t.$axios.defaults.headers.common.Authorization="Token "+r,o={fromdate:t.mpesa_filter.fromdate,todate:t.mpesa_filter.todate},e.next=6,t.$axios.$post("v1/mpesa/office/range/total_stat",o).then((function(e){t.stat_total=e}));case 6:t.stat_total_spinner=!1;case 7:case"end":return e.stop()}}),e)})))()},getpdf_mpesa_daily_modal:function(){this.$bvModal.show("mpesa-daily-record")},mpesa_stat_total_modal:function(){this.$bvModal.show("mpesa-stat-total")},mpesa_stat_excel_report:function(){this.$bvModal.show("mpesa-daily-excel-reports")}}},c=(r(655),r(12)),component=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"bg-body-light"},[e("div",{staticClass:"content content-full"},[e("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-sm-between align-items-sm-center py-2 text-center text-sm-left"},[t._m(0),t._v(" "),e("div",{staticClass:"mt-3 mt-sm-0 ml-sm-3"},[e("b-button",{attrs:{variant:"alt-primary","data-uk-tooltip":"Mpesa Excel report"},on:{click:function(e){return t.mpesa_stat_excel_report()}}},[e("i",{staticClass:"fa fa-file-excel"}),t._v(" Excel \n            ")]),t._v(" "),e("b-button",{attrs:{variant:"alt-primary","data-uk-tooltip":"Mpesa daily totals"},on:{click:function(e){return t.getpdf_mpesa_daily_modal()}}},[e("i",{staticClass:"fa fa-file-pdf"}),t._v(" Pdf\n            ")]),t._v(" "),e("b-button",{attrs:{variant:"alt-primary","data-uk-tooltip":"Mpesa payment comparision"},on:{click:function(e){return e.preventDefault(),t.mpesa_stat_total_modal()}}},[e("i",{staticClass:"fa fa-exchange-alt"}),t._v(" Compare\n            ")]),t._v(" "),e("b-button",{directives:[{name:"click-ripple",rawName:"v-click-ripple"}],staticClass:"mr-1",attrs:{to:"/finance/mpesa",variant:"alt-primary",href:"javascript:void(0)"}},[e("i",{staticClass:"far fa-meh-rolling-eyes mr-1"}),t._v(" Mpesa transactions\n            ")]),t._v(" "),e("b-button",{directives:[{name:"click-ripple",rawName:"v-click-ripple"}],attrs:{variant:"alt-primary",href:"javascript:void(0)"}},[e("i",{staticClass:"fa fa-cog"})])],1)])])]),t._v(" "),e("OuModal",{attrs:{mdId:"mpesa-daily-record",size:"md",title:"Mpesa daily totals"}},[e("MpesaDailyPdf")],1),t._v(" "),e("OuModal",{attrs:{mdId:"mpesa-daily-excel-reports",size:"md",title:"Mpesa Excel reports"}},[e("MpesaDailyExcel")],1),t._v(" "),e("OuModal",{attrs:{mdId:"mpesa-stat-total",size:"lg",title:"Mpesa Payments Comparision"}},[e("div",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.getMpesa_total_stat_range()}}},[e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("Start Date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.mpesa_filter.fromdate,callback:function(e){t.$set(t.mpesa_filter,"fromdate",e)},expression:"mpesa_filter.fromdate"}})],1),t._v(" "),e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("End date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.mpesa_filter.todate,callback:function(e){t.$set(t.mpesa_filter,"todate",e)},expression:"mpesa_filter.todate"}})],1),t._v(" "),e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v(".")]),t._v(" "),e("div",[t.stat_total_spinner?e("div",[e("center",[e("i",{staticClass:"fa fa-2x fa-sun fa-spin"}),t._v(" "),e("br"),e("br")])],1):e("div",[e("SbButton",{attrs:{title:"Pull records"}})],1)])])]),t._v(" "),e("hr"),t._v(" "),e("div",[e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("div",{staticClass:"mpesa_pay_header"},[t._v("Swap Payments")]),t._v(" "),e("div",{staticClass:"mpesa_pay_items_con"},[e("div",[e("i",{staticClass:"fa fa-chart-pie fa-ico-size"})]),t._v(" "),e("div",{staticClass:"mpesa_price"},[t.stat_total.swap>0?e("span",{staticStyle:{color:"green","font-size":"16px"}},[t._v("KES "+t._s(t.stat_total.swap.toLocaleString()))]):e("span",[t._v("KES 0.0")])])])]),t._v(" "),e("div",{staticClass:"uk-width-expand@m"},[e("div",{staticClass:"mpesa_pay_header"},[t._v("Other Payments")]),t._v(" "),e("div",{staticClass:"mpesa_pay_items_con"},[e("div",[e("i",{staticClass:"fa fa-chart-bar fa-ico-size"})]),t._v(" "),e("div",{staticClass:"mpesa_price"},[t.stat_total.others>0?e("span",{staticStyle:{color:"green","font-size":"16px"}},[t._v("KES "+t._s(t.stat_total.others.toLocaleString()))]):e("span",[t._v("KES 0.0")])])])]),t._v(" "),e("div",{staticClass:"uk-width-expand@m"},[e("div",{staticClass:"mpesa_pay_header"},[t._v(" Total Payments")]),t._v(" "),e("div",{staticClass:"mpesa_pay_items_con"},[e("div",[e("i",{staticClass:"fa fa-cash-register fa-ico-size"})]),t._v(" "),e("div",{staticClass:"mpesa_price"},[t.stat_total.total>0?e("span",{staticStyle:{color:"green","font-size":"16px"}},[t._v("KES "+t._s(t.stat_total.total.toLocaleString()))]):e("span",[t._v("KES 0.0")])])])])])]),t._v(" "),e("br"),e("br"),e("br")])],1)])],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-sm-fill"},[e("h2",{staticClass:"h3 font-w700 mb-2"},[t._v("\n              MPESA\n            ")]),t._v(" "),e("h2",{staticClass:"h6 font-w500 text-muted mb-0"},[t._v("\n              Welcome "),e("a",{staticClass:"font-w600",attrs:{href:"javascript:void(0)"}},[t._v("Gecss")]),t._v(", everything looks great.\n            ")])])}],!1,null,"142a0705",null);e.default=component.exports}}]);