(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{581:function(e,t,r){var content=r(620);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(40).default)("22be6db0",content,!0,{sourceMap:!1})},619:function(e,t,r){"use strict";r(581)},620:function(e,t,r){var n=r(37)(!1);n.push([e.i,"\n.pdf-filter-btn[data-v-1bd57c03]{\n    display: flex;\n    justify-content: space-around;\n}\n",""]),e.exports=n},633:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(64),r(14),r(2),r(4),r(574)),d=(r(575),{name:"MpesaDailyPdf",data:function(){return{pdfData:[],btn_loading:!1,swap_filter:{fromdate:"",todate:""}}},methods:{get_mpesa_daily_pdf:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("token"),e.$axios.defaults.headers.common.Authorization="Token "+r,e.btn_loading=!0,n={fromdate:e.swap_filter.fromdate,todate:e.swap_filter.todate},t.next=6,e.$axios.$post("v1/reports/mpesa_statistics/pdf_excel",n).then((function(t){if(t.length>=1){e.$bvModal.hide("pdf-daily-swaps-record");var r=e.swap_filter.fromdate,n=e.swap_filter.todate,d="mpesa_reports-pdf-".concat(r," - ").concat(n,".pdf");e.pdfData=t;var l=e.pdfData,f=[];l.forEach((function(element,e,t){f.push([e+1,element.Date,element.Month,element.Day,element.Year,element.Revenue])}));var c=new o.default;c.autoTable({head:[["No","Date","Month","Day","Year","Revenue (KES)"]],body:f});var v=c.internal.getNumberOfPages(),i=0;for(i=0;i<v;i++){c.setPage(i);var _=c.internal.getCurrentPageInfo().pageNumber;c.setFontSize(12),c.text("page: "+_+"/"+v,10,c.internal.pageSize.height-10)}var m=Date(),w=v;for(i=1;i<=w;i++)c.setPage(i),c.setTextColor(150),c.setFontSize(7),c.text(50,c.internal.pageSize.height-10,"GECSS INVESTMENTS   -    CONFIDENTIAL      ".concat(m));c.save(d),Swal.fire({icon:"success",title:"Pdf downloaded successfully"}),e.create_record={}}else{e.$bvModal.hide("pdf-record");Swal.fire({icon:"error",title:"Oops.!!! No record found, please enter dates again."}),e.create_record={}}}));case 6:e.btn_loading=!1;case 7:case"end":return t.stop()}}),t)})))()}},props:{}}),l=(r(619),r(12)),component=Object(l.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("b-form",{on:{submit:function(t){return t.preventDefault(),e.get_mpesa_daily_pdf()}}},[t("div",[t("div",{attrs:{"uk-grid":""}},[t("div",{staticClass:"uk-width-expand@m"},[t("label",{staticStyle:{color:"#1a1a1a"}},[e._v("Start Date.")]),e._v(" "),t("b-form-input",{attrs:{type:"date",required:""},model:{value:e.swap_filter.fromdate,callback:function(t){e.$set(e.swap_filter,"fromdate",t)},expression:"swap_filter.fromdate"}})],1)]),e._v(" "),t("div",{attrs:{"uk-grid":""}},[t("div",{staticClass:"uk-width-expand@m"},[t("label",{staticStyle:{color:"#1a1a1a"}},[e._v("End date.")]),e._v(" "),t("b-form-input",{attrs:{type:"date",required:""},model:{value:e.swap_filter.todate,callback:function(t){e.$set(e.swap_filter,"todate",t)},expression:"swap_filter.todate"}})],1)]),e._v(" "),t("br"),e._v(" "),t("div",[e.btn_loading?t("div",[t("center",[t("i",{staticClass:"fa fa-2x fa-sun fa-spin"}),e._v(" "),t("br"),t("br")])],1):t("div",[t("SbButton",{attrs:{title:"Download Pdf"}})],1)]),e._v(" "),t("br")])])],1)}),[],!1,null,"1bd57c03",null);t.default=component.exports}}]);