(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{706:function(t,e,r){"use strict";r.r(e);var o=r(29),n=(r(65),r(569)),l=r(570),m={layout:"empty",mixins:[n.validationMixin],data:function(){return{form:{username:null,password:null},err:""}},validations:{form:{username:{required:l.required,minLength:Object(l.minLength)(3)},password:{required:l.required,minLength:Object(l.minLength)(5)}}},methods:{submitForm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$axios.defaults.headers.common.Authorization="",localStorage.removeItem("token"),r={username:t.form.username,password:t.form.password},e.next=5,t.$axios.$post("v1/auth/login",r).then((function(e){if(e.token){var r=e.token;t.$store.commit("setToken",r),t.$axios.defaults.headers.common.Authorization="Token "+r,localStorage.setItem("token",r);var o=t.$route.query.to||"/dashboard";t.$router.push(o)}else t.err="Unable to log in with provided credentials."}));case 5:case"end":return e.stop()}}),e)})))()}}},c=r(12),component=Object(c.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"hero-static"},[e("div",{staticClass:"content"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{attrs:{md:"8",lg:"6",xl:"4"}},[e("base-block",{staticClass:"mb-0",attrs:{rounded:"",themed:"","header-class":"bg-primary-dark",title:"Sign In"},scopedSlots:t._u([{key:"options",fn:function(){return[e("router-link",{staticClass:"btn-block-option font-size-sm",attrs:{to:"/auth/login"}},[t._v("Forgot Password?")]),t._v(" "),e("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.nofade.left",value:"New Account",expression:"'New Account'",modifiers:{hover:!0,nofade:!0,left:!0}}],staticClass:"btn-block-option",attrs:{to:"/auth/login"}},[e("i",{staticClass:"fa fa-user-plus"})])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"p-sm-3 px-lg-4 py-lg-5"},[e("h1",{staticClass:"h2 mb-1"},[t._v("GECSS")]),t._v(" "),e("p",{staticClass:"text-muted"},[t._v("\n                Welcome, please login.\n              ")]),t._v(" "),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"py-3"},[e("div",{staticClass:"form-group"},[e("b-form-input",{staticClass:"form-control-alt",attrs:{size:"lg",id:"username",name:"username",placeholder:"Username","aria-describedby":"username-feedback"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t._v(" "),e("div")],1),t._v(" "),e("div",{staticClass:"form-group"},[e("b-form-input",{staticClass:"form-control-alt",attrs:{type:"password",size:"lg",id:"password",name:"password",placeholder:"Password","aria-describedby":"password-feedback"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("b-form-checkbox",{attrs:{id:"remember",name:"remember"}},[t._v("Remember Me")])],1)]),t._v(" "),e("b-row",{staticClass:"form-group"},[e("b-col",{attrs:{md:"6",xl:"5"}},[e("b-button",{attrs:{type:"submit",variant:"alt-primary",block:""}},[e("i",{staticClass:"fa fa-fw fa-sign-in-alt mr-1"}),t._v(" Sign In\n                    ")])],1)],1)],1)],1)])],1)],1)],1),t._v(" "),e("div",{staticClass:"content content-full font-size-sm text-muted text-center"},[e("strong",[t._v(t._s(t.$store.getters.appName+" "+t.$store.getters.appVersion))]),t._v(" Â© "+t._s(t.$store.getters.appCopyright)+"\n    ")])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseBlock:r(291).default})}}]);