(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{591:function(t,e,r){var content=r(644);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("5a58043b",content,!0,{sourceMap:!1})},643:function(t,e,r){"use strict";r(591)},644:function(t,e,r){var n=r(37)(!1);n.push([t.i,"\n.pdf-filter-btn[data-v-b3886b48]{\n    display: flex;\n    justify-content: space-around;\n}\n",""]),t.exports=n},782:function(t,e,r){"use strict";r.r(e);var n=r(30),o=(r(64),r(14),r(2),r(4),r(574)),d=(r(575),{name:"SwapDailyPdf",data:function(){return{pdfData:[],btn_loading:!1,swap_filter:{fromdate:"",todate:""}}},methods:{get_swaps_daily_pdf:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),t.$axios.defaults.headers.common.Authorization="Token "+r,t.btn_loading=!0,n={fromdate:t.swap_filter.fromdate,todate:t.swap_filter.todate},e.next=6,t.$axios.$post("v1/reports/battery_statistics/pdf_excel",n).then((function(e){var r=e.length,n=t.swap_filter.fromdate,d=t.swap_filter.todate,l="battery_reports-pdf-".concat(n," - ").concat(d,".pdf");if(r>=1){t.$bvModal.hide("pdf-daily-swaps-record"),t.pdfData=e;var f=t.pdfData,c=[];f.forEach((function(element,t,e){c.push([t+1,element.Date,element.Swaps,element.Power_units,element.Revenue])}));var v=new o.default;v.autoTable({head:[["No","Date","Total Swaps","Power Units(Kw)","Revenue (KES)"]],body:c});var _=v.internal.getNumberOfPages(),i=0;for(i=0;i<_;i++){v.setPage(i);var w=v.internal.getCurrentPageInfo().pageNumber;v.setFontSize(12),v.text("page: "+w+"/"+_,10,v.internal.pageSize.height-10)}var m=Date(),h=_;for(i=1;i<=h;i++)v.setPage(i),v.setTextColor(150),v.setFontSize(7),v.text(50,v.internal.pageSize.height-10,"GECSS INVESTMENTS   -    CONFIDENTIAL      ".concat(m));v.save(l),Swal.fire({icon:"success",title:"Pdf downloaded successfully"}),t.create_record={}}else{t.$bvModal.hide("pdf-record");Swal.fire({icon:"error",title:"Oops.!!! No record found, please enter dates again."}),t.create_record={}}}));case 6:t.btn_loading=!1;case 7:case"end":return e.stop()}}),e)})))()}},props:{}}),l=(r(643),r(12)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.get_swaps_daily_pdf()}}},[e("div",[e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("Start Date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.swap_filter.fromdate,callback:function(e){t.$set(t.swap_filter,"fromdate",e)},expression:"swap_filter.fromdate"}})],1)]),t._v(" "),e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("label",{staticStyle:{color:"#1a1a1a"}},[t._v("End date.")]),t._v(" "),e("b-form-input",{attrs:{type:"date",required:""},model:{value:t.swap_filter.todate,callback:function(e){t.$set(t.swap_filter,"todate",e)},expression:"swap_filter.todate"}})],1)]),t._v(" "),e("br"),t._v(" "),e("div",[t.btn_loading?e("div",[e("center",[e("i",{staticClass:"fa fa-2x fa-sun fa-spin"}),t._v(" "),e("br"),e("br")])],1):e("div",[e("SbButton",{attrs:{title:"Download Pdf"}})],1)]),t._v(" "),e("br")])])],1)}),[],!1,null,"b3886b48",null);e.default=component.exports}}]);